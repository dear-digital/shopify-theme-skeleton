<div class="collection lg:flex lg:min-h-screen {{ section.settings.tw-collection }}">
  <div class="collection__left-col lg:aspect-square lg:w-1/2 relative border-[1px] border-brand-black lg:sticky lg:top-0 lg:h-full {{ section.settings.tw-collection__left-col }}">
    {% if collection.image %}
      {% assign image_class = 'h-full w-full object-cover '| append: section.settings['tw-collection__image'] %}
      {{
        collection.image
        | image_url: width: 2400, crop: 'center'
        | image_tag: class: image_class, sizes: '(min-width: 1200px) 1200px, 100vw'
      }}
      <div class="collection__image-overlay absolute inset-0 bg-black opacity-25 {{ section.settings.tw-collection__image-overlay }}"></div>
    {% endif %}
    {% if collection.title %}
      <h2 class="collection__heading w-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-white text-center font-semibold text-[12vw] md:text-[8.7vw] lg:text-[4.65vw] leading-[140%] z-10 {{ section.settings.tw-collection__heading }}">{{ collection.title }}</h2>
    {% endif %}
  </div>
  <div class="collection__right-col flex flex-wrap lg:w-1/2 md:hide-scrollbar border-x-[1px] border-brand-black md:border-x-0 lg:h-full {{ section.settings.tw-collection__right-col }}">
    {% if collection.all_products_count != 0 %}
      {% for product in collection.products %}
        <div class="collection__card aspect-square relative md:w-1/2 md:h-1/2 cursor-pointer border-b-[1px] border-brand-black md:border-x-[1px] {{ section.settings.tw-collection__card }}">
          <a href="{{ product.url }}">
            {% if product.featured_image %}
              {% assign product_image_class = 'h-full object-cover '| append: section.settings['tw-collection__product-featured-image'] %}
              {{
                product.featured_image
                | image_url: width: 2400, crop: 'center'
                | image_tag: class: product_image_class
              }}
            {% endif %}
            <div class="collection__product-description w-full absolute bottom-3 text-brand-black flex flex-col justify-center items-center gap-1 {{ section.settings.tw-collection__product-description }}">
              {% if product.title %}
                <h3 class="collection__product-title leading-[120%] tracking-[.03vw] font-medium text-[4.3vw] md:text-[2.1vw] lg:text-[1.19vw] {{ section.settings.tw-collection__product-title }}">
                  {{ product.title }}
                </h3>
              {% endif %}
              {% if product.price %}
                <p class="collection__product-price leading-[120%] tracking-[.03vw] font-medium text-[3.7vw] md:text-[1.8vw] lg:text-[.98vw] {{ section.settings.tw-collection__product-price }}">
                  <span class="collection__product-price-text {{ section.settings.tw-collection__product-price-text }}">
                    {{- section.settings['collection__product-price-text'] -}}
                  </span>
                  &nbsp;{{ product.price | money }}
                </p>
              {% endif %}
            </div>
          </a>
        </div>
      {% endfor %}
    {% else %}
      {% if section.settings.collection__no_products_found-text != blank %}
        <p class="leading-[120%] tracking-[.03vw] text-[4.1vw] md:text-[2.1vw] lg:text-[1.19vw] w-full flex justify-center items-center italic py-20 text-brand-gray {{ section.settings.tw-collection__no-products-found }}">
          {{ section.settings['collection__no_products_found-text'] }}
        </p>
      {% endif %}
    {% endif %}
  </div>
</div>

{% schema %}
{
  "name": "Collection",
  "settings": [
    { "type": "text", 
      "id": "collection__product-price-text", 
      "label": "Product Price text", 
      "default": "Price" 
    },
    { "type": "text", 
      "id": "collection__no_products_found-text", 
      "label": "No Products Found Text", 
      "default": "No Products found in this Collection!" 
    },
    {
      "type": "header",
      "content": "Tailwind Classes"
    },
    { "type": "textarea", 
      "id": "tw-collection", 
      "label": "Style tw-collection", 
      "default": "lg:flex lg:overflow-hidden" 
    },
    {
      "type": "textarea",
      "id": "tw-collection__left-col",
      "label": "Style tw-collection__left-col",
      "default": "lg:w-1/2 relative border-[1px] border-brand-black lg:sticky lg:top-0 lg:h-[100vh]"
    },
    {
      "type": "textarea",
      "id": "tw-collection__image",
      "label": "Style tw-collection__image",
      "default": "h-full w-full object-cover"
    },
    {
      "type": "textarea",
      "id": "tw-collection__image-overlay",
      "label": "Style tw-collection__image-overlay",
      "default": "absolute inset-0 bg-black opacity-25"
    },
    {
      "type": "textarea",
      "id": "tw-collection__heading",
      "label": "Style tw-collection__heading",
      "default": "w-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-white text-center font-semibold text-[12vw] md:text-[8.7vw] lg:text-[4.65vw] leading-[140%] z-10"
    },
    {
      "type": "textarea",
      "id": "tw-collection__right-col",
      "label": "Style tw-collection__right-col",
      "default": "flex flex-wrap lg:w-1/2 md:hide-scrollbar border-x-[1px] border-brand-black md:border-x-0"
    },
    {
      "type": "textarea",
      "id": "tw-collection__card",
      "label": "Style tw-collection__card",
      "default": "aspect-square relative md:w-1/2 md:h-1/2 cursor-pointer border-b-[1px] border-brand-black md:border-x-[1px]"
    },
    {
      "type": "textarea",
      "id": "tw-collection__product-featured-image",
      "label": "Style tw-collection__product-featured-image",
      "default": "h-full object-cover"
    },
    {
      "type": "textarea",
      "id": "tw-collection__product-description",
      "label": "Style tw-collection__product-description",
      "default": "w-full absolute bottom-3 text-brand-black flex flex-col justify-center items-center gap-1"
    },
    {
      "type": "textarea",
      "id": "tw-collection__product-title",
      "label": "Style tw-collection__product-title",
      "default": "leading-[120%] tracking-[.03vw] font-medium text-[4.3vw] md:text-[2.1vw] lg:text-[1.19vw]"
    },
    {
      "type": "textarea",
      "id": "tw-collection__product-price",
      "label": "Style tw-collection__product-price",
      "default": "leading-[120%] tracking-[.03vw] font-medium text-[3.7vw] md:text-[1.8vw] lg:text-[.98vw]"
    },
    {
      "type": "textarea",
      "id": "tw-collection__no-products-found",
      "label": "Style tw-collection__no-products-found",
      "default": "leading-[120%] tracking-[.03vw] font-medium text-[4.3vw] md:text-[2.1vw] lg:text-[1.19vw]"
    },
  ],
  "presets": [
    {
      "name": "Collection"
    }
  ]
}
{% endschema %}